{% extends "base.html" %}
{% load static %}
{% load form_tags %}


{% block title %}
    <title>{{ title }}</title>
{% endblock title %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 bg-white p-4 rounded shadow">
            <h3 class="mb-4 text-center">–í–Ω–µ—Å–∏—Ç–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è –ø–æ: <strong>{{ apartment.apartment_name }}</strong></h3>
                <h7 class="form_one">***–í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è.<br></h7>
                {% if not last_gas and not last_water and not last_hot_water and not last_electricity and not last_other %}
                    <h7 class="form">***–ü–µ—Ä–≤–æ–µ –≤–Ω–µ—Å–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞. 
                            –û–ø–ª–∞—Ç–∞ –±—É–¥–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –ø–æ—Å–ª–µ –≤—Ç–æ—Ä–æ–≥–æ –≤–Ω–µ—Å–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö,
                             –ø–æ—ç—Ç–æ–º—É –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞, –≤–Ω–∞—á–∞–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 
                             –º–æ–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è –∑–∞ –ø—Ä–æ—à–ª—ã–π –ø–µ—Ä–∏–æ–¥!</h7>
                {% endif %}
            <form method="post" action="{% url 'services:indications' apartment.id %}">
                {% csrf_token %}
                {% if form.errors %}
                        <div class="alert alert-danger">
                            <ul class="mb-0">
                                {% for field in form %}
                                    {% for error in field.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                {% endfor %}
                                {% for error in form.non_field_errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                        {% endif %}

                <!-- –ì–∞–∑ -->
                {% if  apartment.has_gas is not None %}
                <div class="mb-2 " id="id_gas_section">
                    <h4 class="text-primary">–ì–∞–∑</h4>
                    <div class="row">
                        {% if apartment.has_gas == 1 %}
                        <div class="col-md-6 mb-3">
                            {{ gas_form.gas_meter.label_tag }} {{ gas_form.gas_meter|add_class:"form-control"}}
                        </div>
                        <div class="col-md-6 mb-3">
                            {{ gas_form.gas_tariff_counter.label_tag }} {{ gas_form.gas_tariff_counter|add_class:"form-control"}}
                        </div>
                        
                         {% elif apartment.has_gas == 0 %}
                        <div class="col-md-6 mb-3">
                            {{ gas_form.gas_tariff_no_counter.label_tag }} {{ gas_form.gas_tariff_no_counter|add_class:"form-control" }}
                        </div>
                        {% endif %}
                        {% if apartment.has_gas_delivery %}
                         <div class="col-md-6 mb-3">
                            {{ gas_form.gas_delivery.label_tag }} {{ gas_form.gas_delivery|add_class:"form-control" }}
                        </div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
                <!-- –í–æ–¥–∞ -->
                 {% if apartment.has_water is not None %}
                <div class="mb-2" id="id_water_section">
                    <h4 class="text-primary">–í–æ–¥–∞</h4>
                    <div class="row">
                        {% if apartment.has_water > 0 %}
                        <div class="col-md-6 mb-3">
                            {{ water_form.water_meter_one.label_tag }} {{ water_form.water_meter_one|add_class:"form-control" }}
                        </div>
                         <div class="col-md-6 mb-3">
                            {{ water_form.water_tariff_counter.label_tag }} {{ water_form.water_tariff_counter|add_class:"form-control" }}
                        </div>
                        {% endif %}
                        {% if apartment.has_water == 2 %}
                        <div class="col-md-6 mb-3">
                            {{ water_form.water_meter_two.label_tag }} {{ water_form.water_meter_two|add_class:"form-control" }}
                        </div>
                       {% elif apartment.has_water == 0 %}
                        <div class="col-md-6 mb-3">
                            {{ water_form.water_tariff_nocounter.label_tag }} {{ water_form.water_tariff_nocounter|add_class:"form-control" }}
                        </div>
                        {% endif %}
                        {% if apartment.has_water_abon_plata %}
                        <div class="col-md-6 mb-3">
                            {{ water_form.water_abon_plata.label_tag }} {{ water_form.water_abon_plata|add_class:"form-control" }}
                        </div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
                <!--–ì–æ—Ä—è—á–∞—è –≤–æ–¥–∞ -->
                 {% if apartment.has_hot_water is not None %}
                <div class="mb-2" id="id_water_section">
                    <h4 class="text-primary">–ì–æ—Ä—è—á–∞—è –≤–æ–¥–∞</h4>
                    <div class="row">
                        {% if apartment.has_hot_water == 1 %}
                        <div class="col-md-6 mb-3">
                            {{ hot_water_form.hot_water_meter.label_tag }} {{ hot_water_form.hot_water_meter|add_class:"form-control" }}
                        </div>
                        <div class="col-md-6 mb-3">
                            {{ hot_water_form.hot_water_tariff_counter.label_tag }} {{ hot_water_form.hot_water_tariff_counter|add_class:"form-control" }}
                        </div>
                         <div class="col-md-6 mb-3">
                            {{ hot_water_form.heating_tariff_counter.label_tag }} {{ hot_water_form.heating_tariff_counter|add_class:"form-control" }}
                        </div>
                        {% endif %}
                        {% if apartment.has_hot_water == 0 %}
                        <div class="col-md-6 mb-3">
                            {{ hot_water_form.heating_tariff_no_counter.label_tag }} {{ hot_water_form.heating_tariff_no_counter|add_class:"form-control" }}
                        </div>
                        <div class="col-md-6 mb-3">
                            {{ hot_water_form.hot_water_tariff_no_counter.label_tag }} {{ hot_water_form.hot_water_tariff_no_counter|add_class:"form-control" }}
                        </div>
                       {% endif %}
                    </div>
                </div>
                {% endif %}
                <!-- –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ -->
                 {% if apartment.has_electricity is not None %}
                <div class="mb-2">
                    <h4 class="text-primary">–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ</h4>
                    <div class="row">
                        {% if apartment.has_electricity > 0 %}
                        <div class="col-md-6 mb-3">
                            {{ electricity_form.electro_meter_one.label_tag }} {{ electricity_form.electro_meter_one|add_class:"form-control" }}
                        </div>
                        <div class="col-md-6 mb-3">
                            {{ electricity_form.electro_tariff_one.label_tag }} {{ electricity_form.electro_tariff_one|add_class:"form-control" }}
                        </div>
                        {% endif %}
                        {% if apartment.has_electricity == 2 %}
                        <div class="col-md-6 mb-3">
                            {{ electricity_form.electro_meter_two.label_tag }} {{ electricity_form.electro_meter_two|add_class:"form-control" }}
                        </div>
                        <div class="col-md-6 mb-3">
                            {{ electricity_form.electro_tariff_two.label_tag }} {{ electricity_form.electro_tariff_two|add_class:"form-control" }}
                        </div>
                        {% endif %}
                        {% if apartment.has_electricity == 0 %}
                        <div class="col-md-6 mb-3">
                            {{ electricity_form.electro_power_apartment.label_tag }} {{ electricity_form.electro_power_apartment|add_class:"form-control" }}
                        </div>
                        <div class="col-md-6 mb-3">
                            {{ electricity_form.electro_tariff_no_counter.label_tag }} {{ electricity_form.electro_tariff_no_counter|add_class:"form-control" }}
                        </div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
                
                <!--–ü—Ä–æ—á–∏–µ –ø–ª–∞—Ç–µ–∂–∏-->
                <div class="row">
                    {% if apartment.has_apart_payment %}
                    <div class="col-md-6 mb-3">
                        <h4 class="text-primary">–ö–≤–∞—Ä—Ç–ø–ª–∞—Ç–∞</h4>
                        {{ other_form.tariff_apart_payment.label_tag }} {{ other_form.tariff_apart_payment|add_class:"form-control" }}
                    </div>
                    {% endif %}
                    
                    {% if apartment.has_garbage %}
                    <div class="col-md-6 mb-3">
                        <h4 class="text-primary">–í—ã–≤–æ–∑ –º—É—Å–æ—Ä–∞</h4>
                        {{ other_form.tariff_garbage.label_tag }} {{ other_form.tariff_garbage|add_class:"form-control" }}
                    </div>
                    {% endif %}
                    
                    {% if apartment.uses_lift %}
                    <div class="col-md-6 mb-3">
                        <h4 class="text-primary">–õ–∏—Ñ—Ç</h4>
                        {{ other_form.tariff_lift.label_tag }} {{ other_form.tariff_lift|add_class:"form-control" }}
                    </div>
                    {% endif %}
                    
                    {% if apartment.has_heating %}
                    <div class="col-md-6 mb-3">
                        <h4 class="text-primary">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ –æ—Ç–æ–ø–ª–µ–Ω–∏–µ</h4>
                        {{ other_form.tariff_heating.label_tag }} {{ other_form.tariff_heating|add_class:"form-control" }}
                    </div>
                    {% endif %}
                    
                    {% if apartment.has_internet %}
                    <div class="col-md-6 mb-3">
                        <h4 class="text-primary">–ò–Ω—Ç–µ—Ä–Ω–µ—Ç</h4>
                        {{ other_form.internet.label_tag }} {{ other_form.internet|add_class:"form-control" }}
                    </div>
                    {% endif %}
                    
                    {% if apartment.has_intercom %}
                    <div class="col-md-6 mb-3">
                        <h4 class="text-primary">–î–æ–º–æ—Ñ–æ–Ω</h4>
                        {{ other_form.intercom.label_tag }} {{ other_form.intercom|add_class:"form-control" }}
                    </div>
                    {% endif %}
                </div>

                <div class="text-end">
                    <a href="{% url 'apartaments:apartment_profile' apartment.id %}" class="btn btn-outline-success">–ü—Ä–æ—Ñ–∏–ª—å –∫–≤–∞—Ä—Ç–∏—Ä—ã</a>
                    <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∏—è</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock content %}

